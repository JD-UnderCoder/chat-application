{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/JD/business-chat/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\n// Firebase Web App configuration (public keys)\r\n// Provided by user; these are safe to include in client code.\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyChtoK_4wBcsLZiaXF-s_ksQBwxHPfZhs4\",\r\n  authDomain: \"chat-application-1d2dc.firebaseapp.com\",\r\n  projectId: \"chat-application-1d2dc\",\r\n  storageBucket: \"chat-application-1d2dc.firebasestorage.app\",\r\n  messagingSenderId: \"611424434957\",\r\n  appId: \"1:611424434957:web:5b6e6044f296ceadf5ce44\",\r\n};\r\n\r\nconst app = getApps().length ? getApps()[0] : initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,+CAA+C;AAC/C,8DAA8D;AAC9D,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACT;AAEA,MAAM,MAAM,IAAA,2KAAO,IAAG,MAAM,GAAG,IAAA,2KAAO,GAAE,CAAC,EAAE,GAAG,IAAA,iLAAa,EAAC;AAErD,MAAM,OAAO,IAAA,6KAAO,EAAC;AACrB,MAAM,KAAK,IAAA,iLAAY,EAAC","debugId":null}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/JD/business-chat/src/components/AuthForm.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\nimport { auth, db } from \"@/lib/firebase\";\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, updateProfile } from \"firebase/auth\";\r\nimport { doc, serverTimestamp, setDoc } from \"firebase/firestore\";\r\n\r\nexport default function AuthForm() {\r\n  const [mode, setMode] = React.useState<\"signin\" | \"signup\">(\"signin\");\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  const [name, setName] = React.useState(\"\");\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  async function onSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setLoading(true);\r\n    try {\r\n      if (mode === \"signup\") {\r\n        const cred = await createUserWithEmailAndPassword(auth, email, password);\r\n        if (name) await updateProfile(cred.user, { displayName: name });\r\n        await setDoc(doc(db, \"users\", cred.user.uid), {\r\n          uid: cred.user.uid,\r\n          email: email,\r\n          displayName: name || email.split(\"@\")[0],\r\n          photoURL: cred.user.photoURL || null,\r\n          lastSeen: Date.now(),\r\n          createdAt: serverTimestamp(),\r\n        });\r\n      } else {\r\n        await signInWithEmailAndPassword(auth, email, password);\r\n      }\r\n    } catch (err: unknown) {\r\n      const msg = err instanceof Error ? err.message : \"Something went wrong\";\r\n      setError(msg);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card card-hover w-full max-w-md p-6\">\r\n      <div className=\"mb-6 flex items-center gap-3\">\r\n        <div className=\"h-10 w-10 rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-600 text-white grid place-items-center shadow\">\r\n          <span className=\"text-sm font-bold\">BC</span>\r\n        </div>\r\n        <div>\r\n          <h2 className=\"text-xl font-semibold\">Welcome</h2>\r\n          <p className=\"text-sm text-[var(--color-muted)]\">Sign in to your account</p>\r\n        </div>\r\n      </div>\r\n      <form onSubmit={onSubmit} className=\"space-y-3\">\r\n        {mode === \"signup\" && (\r\n          <input className=\"input\" placeholder=\"Full name\" value={name} onChange={(e) => setName(e.target.value)} />\r\n        )}\r\n        <input className=\"input\" placeholder=\"Email\" type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n        <input className=\"input\" placeholder=\"Password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n        {error && <p className=\"text-sm text-red-400\">{error}</p>}\r\n        <button className=\"btn w-full\" disabled={loading}>{loading ? \"Please wait...\" : mode === \"signup\" ? \"Create account\" : \"Sign in\"}</button>\r\n      </form>\r\n      <div className=\"mt-4 text-center text-sm text-[var(--color-muted)]\">\r\n        {mode === \"signup\" ? (\r\n          <button className=\"btn-ghost\" onClick={() => setMode(\"signin\")}>Have an account? Sign in</button>\r\n        ) : (\r\n          <button className=\"btn-ghost\" onClick={() => setMode(\"signup\")}>New here? Create an account</button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AACA;AAAA;AAJA;;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,iNAAc,CAAsB;IAC5D,MAAM,CAAC,OAAO,SAAS,GAAG,iNAAc,CAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,iNAAc,CAAC;IAC/C,MAAM,CAAC,MAAM,QAAQ,GAAG,iNAAc,CAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,iNAAc,CAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,iNAAc,CAAgB;IAExD,eAAe,SAAS,CAAkB;QACxC,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QACX,IAAI;YACF,IAAI,SAAS,UAAU;gBACrB,MAAM,OAAO,MAAM,IAAA,oMAA8B,EAAC,8HAAI,EAAE,OAAO;gBAC/D,IAAI,MAAM,MAAM,IAAA,mLAAa,EAAC,KAAK,IAAI,EAAE;oBAAE,aAAa;gBAAK;gBAC7D,MAAM,IAAA,2KAAM,EAAC,IAAA,wKAAG,EAAC,4HAAE,EAAE,SAAS,KAAK,IAAI,CAAC,GAAG,GAAG;oBAC5C,KAAK,KAAK,IAAI,CAAC,GAAG;oBAClB,OAAO;oBACP,aAAa,QAAQ,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE;oBACxC,UAAU,KAAK,IAAI,CAAC,QAAQ,IAAI;oBAChC,UAAU,KAAK,GAAG;oBAClB,WAAW,IAAA,oLAAe;gBAC5B;YACF,OAAO;gBACL,MAAM,IAAA,gMAA0B,EAAC,8HAAI,EAAE,OAAO;YAChD;QACF,EAAE,OAAO,KAAc;YACrB,MAAM,MAAM,eAAe,QAAQ,IAAI,OAAO,GAAG;YACjD,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAK,WAAU;sCAAoB;;;;;;;;;;;kCAEtC,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAwB;;;;;;0CACtC,8OAAC;gCAAE,WAAU;0CAAoC;;;;;;;;;;;;;;;;;;0BAGrD,8OAAC;gBAAK,UAAU;gBAAU,WAAU;;oBACjC,SAAS,0BACR,8OAAC;wBAAM,WAAU;wBAAQ,aAAY;wBAAY,OAAO;wBAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;kCAEvG,8OAAC;wBAAM,WAAU;wBAAQ,aAAY;wBAAQ,MAAK;wBAAQ,OAAO;wBAAO,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;kCAChH,8OAAC;wBAAM,WAAU;wBAAQ,aAAY;wBAAW,MAAK;wBAAW,OAAO;wBAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;oBAC3H,uBAAS,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCAC/C,8OAAC;wBAAO,WAAU;wBAAa,UAAU;kCAAU,UAAU,mBAAmB,SAAS,WAAW,mBAAmB;;;;;;;;;;;;0BAEzH,8OAAC;gBAAI,WAAU;0BACZ,SAAS,yBACR,8OAAC;oBAAO,WAAU;oBAAY,SAAS,IAAM,QAAQ;8BAAW;;;;;yCAEhE,8OAAC;oBAAO,WAAU;oBAAY,SAAS,IAAM,QAAQ;8BAAW;;;;;;;;;;;;;;;;;AAK1E","debugId":null}},
    {"offset": {"line": 347, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/JD/business-chat/src/app/auth/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { auth, db } from \"@/lib/firebase\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport AuthForm from \"@/components/AuthForm\";\r\nimport { useEffect } from \"react\";\r\nimport { doc, serverTimestamp, setDoc } from \"firebase/firestore\";\r\n\r\nexport default function AuthPage() {\r\n  const [user, loading] = useAuthState(auth);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!loading && user) {\r\n      // Ensure user doc exists and lastSeen is set\r\n      setDoc(\r\n        doc(db, \"users\", user.uid),\r\n        {\r\n          uid: user.uid,\r\n          email: user.email,\r\n          displayName: user.displayName || user.email?.split(\"@\")[0],\r\n          photoURL: user.photoURL || null,\r\n          lastSeen: Date.now(),\r\n          updatedAt: serverTimestamp(),\r\n        },\r\n        { merge: true }\r\n      );\r\n      router.replace(\"/chat\");\r\n    }\r\n  }, [user, loading, router]);\r\n\r\n  return (\r\n    <div className=\"min-h-dvh grid place-items-center p-6\">\r\n      <AuthForm />\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AANA;;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,0LAAY,EAAC,8HAAI;IACzC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,WAAW,MAAM;YACpB,6CAA6C;YAC7C,IAAA,2KAAM,EACJ,IAAA,wKAAG,EAAC,4HAAE,EAAE,SAAS,KAAK,GAAG,GACzB;gBACE,KAAK,KAAK,GAAG;gBACb,OAAO,KAAK,KAAK;gBACjB,aAAa,KAAK,WAAW,IAAI,KAAK,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE;gBAC1D,UAAU,KAAK,QAAQ,IAAI;gBAC3B,UAAU,KAAK,GAAG;gBAClB,WAAW,IAAA,oLAAe;YAC5B,GACA;gBAAE,OAAO;YAAK;YAEhB,OAAO,OAAO,CAAC;QACjB;IACF,GAAG;QAAC;QAAM;QAAS;KAAO;IAE1B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,yIAAQ;;;;;;;;;;AAGf","debugId":null}}]
}