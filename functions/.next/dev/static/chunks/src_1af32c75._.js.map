{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/JD/business-chat/src/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\n// Firebase Web App configuration (public keys)\r\n// Provided by user; these are safe to include in client code.\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyChtoK_4wBcsLZiaXF-s_ksQBwxHPfZhs4\",\r\n  authDomain: \"chat-application-1d2dc.firebaseapp.com\",\r\n  projectId: \"chat-application-1d2dc\",\r\n  storageBucket: \"chat-application-1d2dc.firebasestorage.app\",\r\n  messagingSenderId: \"611424434957\",\r\n  appId: \"1:611424434957:web:5b6e6044f296ceadf5ce44\",\r\n};\r\n\r\nconst app = getApps().length ? getApps()[0] : initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,+CAA+C;AAC/C,8DAA8D;AAC9D,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACT;AAEA,MAAM,MAAM,IAAA,8KAAO,IAAG,MAAM,GAAG,IAAA,8KAAO,GAAE,CAAC,EAAE,GAAG,IAAA,oLAAa,EAAC;AAErD,MAAM,OAAO,IAAA,wKAAO,EAAC;AACrB,MAAM,KAAK,IAAA,kLAAY,EAAC","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["C:/Users/JD/business-chat/src/components/AuthForm.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\nimport { auth, db } from \"@/lib/firebase\";\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, updateProfile } from \"firebase/auth\";\r\nimport { doc, serverTimestamp, setDoc } from \"firebase/firestore\";\r\n\r\nexport default function AuthForm() {\r\n  const [mode, setMode] = React.useState<\"signin\" | \"signup\">(\"signin\");\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n  const [name, setName] = React.useState(\"\");\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [error, setError] = React.useState<string | null>(null);\r\n\r\n  async function onSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setLoading(true);\r\n    try {\r\n      if (mode === \"signup\") {\r\n        const cred = await createUserWithEmailAndPassword(auth, email, password);\r\n        if (name) await updateProfile(cred.user, { displayName: name });\r\n        await setDoc(doc(db, \"users\", cred.user.uid), {\r\n          uid: cred.user.uid,\r\n          email: email,\r\n          displayName: name || email.split(\"@\")[0],\r\n          photoURL: cred.user.photoURL || null,\r\n          lastSeen: Date.now(),\r\n          createdAt: serverTimestamp(),\r\n        });\r\n      } else {\r\n        await signInWithEmailAndPassword(auth, email, password);\r\n      }\r\n    } catch (err: unknown) {\r\n      const msg = err instanceof Error ? err.message : \"Something went wrong\";\r\n      setError(msg);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card card-hover w-full max-w-md p-6\">\r\n      <div className=\"mb-6 flex items-center gap-3\">\r\n        <div className=\"h-10 w-10 rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-600 text-white grid place-items-center shadow\">\r\n          <span className=\"text-sm font-bold\">BC</span>\r\n        </div>\r\n        <div>\r\n          <h2 className=\"text-xl font-semibold\">Welcome</h2>\r\n          <p className=\"text-sm text-[var(--color-muted)]\">Sign in to your account</p>\r\n        </div>\r\n      </div>\r\n      <form onSubmit={onSubmit} className=\"space-y-3\">\r\n        {mode === \"signup\" && (\r\n          <input className=\"input\" placeholder=\"Full name\" value={name} onChange={(e) => setName(e.target.value)} />\r\n        )}\r\n        <input className=\"input\" placeholder=\"Email\" type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n        <input className=\"input\" placeholder=\"Password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n        {error && <p className=\"text-sm text-red-400\">{error}</p>}\r\n        <button className=\"btn w-full\" disabled={loading}>{loading ? \"Please wait...\" : mode === \"signup\" ? \"Create account\" : \"Sign in\"}</button>\r\n      </form>\r\n      <div className=\"mt-4 text-center text-sm text-[var(--color-muted)]\">\r\n        {mode === \"signup\" ? (\r\n          <button className=\"btn-ghost\" onClick={() => setMode(\"signin\")}>Have an account? Sign in</button>\r\n        ) : (\r\n          <button className=\"btn-ghost\" onClick={() => setMode(\"signup\")}>New here? Create an account</button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["React","auth","db","createUserWithEmailAndPassword","signInWithEmailAndPassword","updateProfile","doc","serverTimestamp","setDoc","AuthForm","mode","setMode","useState","email","setEmail","password","setPassword","name","setName","loading","setLoading","error","setError","onSubmit","e","FormEvent","preventDefault","cred","user","displayName","uid","split","photoURL","lastSeen","Date","now","createdAt","err","msg","Error","message","target","value"],"mappings":";;;;;AACA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,IAAI,EAAEC,EAAE,QAAQ,gBAAgB;AACzC,SAASC,8BAA8B,EAAEC,0BAA0B,EAAEC,aAAa,QAAQ,eAAe;;;AACzG,SAASC,GAAG,EAAEC,eAAe,EAAEC,MAAM,QAAQ,oBAAoB;;;AAJjE,YAAY;;;;;AAMG;;IACb,MAAM,CAACE,IAAI,EAAEC,OAAO,CAAC,GAAGX,KAAK,CAACY,mKAAQ,CAAC,AAAqB,QAAb,AAAqB,CAAC,EAAnB,QAAQ,CAAC;IAC3D,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,KAAK,CAACY,mKAAQ,CAAC,EAAE,CAAC;IAC5C,MAAM,CAACG,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,KAAK,CAACY,mKAAQ,CAAC,EAAE,CAAC;IAClD,MAAM,CAACK,IAAI,EAAEC,OAAO,CAAC,GAAGlB,KAAK,CAACY,mKAAQ,CAAC,EAAE,CAAC;IAC1C,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGpB,KAAK,CAACY,mKAAQ,CAAC,KAAK,CAAC;IACnD,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGtB,KAAK,CAACY,mKAAQ,CAAC,AAAe,IAAI,CAAC,CAAd,GAAG,IAAI,CAAC;IAEvD,eAAeW,QAAQA,CAACC,CAAC,AAAiB,EAAfxB,AAAiB,KAAZ,CAACyB;QAC/BD,CAAC,CAACE,cAAc,CAAC,CAAC;QAClBJ,QAAQ,CAAC,IAAI,CAAC;QACdF,UAAU,CAAC,IAAI,CAAC;QAChB,IAAI;YACF,IAAIV,IAAI,KAAK,QAAQ,EAAE;gBACrB,MAAMiB,IAAI,GAAG,UAAMxB,+LAA8B,EAACF,iIAAI,EAAEY,KAAK,EAAEE,QAAQ,CAAC;gBACxE,IAAIE,IAAI,EAAE,UAAMZ,8KAAa,EAACsB,IAAI,CAACC,IAAI,EAAE;oBAAEC,WAAW,EAAEZ;gBAAK,CAAC,CAAC;gBAC/D,MAAMT,gLAAM,MAACF,yKAAG,EAACJ,+HAAE,EAAE,OAAO,EAAEyB,IAAI,CAACC,IAAI,CAACE,GAAG,CAAC,EAAE;oBAC5CA,GAAG,EAAEH,IAAI,CAACC,IAAI,CAACE,GAAG;oBAClBjB,KAAK,EAAEA,KAAK;oBACZgB,WAAW,EAAEZ,IAAI,IAAIJ,KAAK,CAACkB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBACxCC,QAAQ,EAAEL,IAAI,CAACC,IAAI,CAACI,QAAQ,IAAI,IAAI;oBACpCC,QAAQ,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;oBACpBC,SAAS,MAAE7B,qLAAe,CAAC;gBAC7B,CAAC,CAAC;YACJ,CAAC,MAAM;gBACL,UAAMH,2LAA0B,EAACH,iIAAI,EAAEY,KAAK,EAAEE,QAAQ,CAAC;YACzD;QACF,CAAC,CAAC,OAAOsB,GAAG,EAAE,AAAS,OAAF;YACnB,MAAMC,GAAG,GAAGD,GAAG,YAAYE,KAAK,GAAGF,GAAG,CAACG,OAAO,GAAG,sBAAsB;YACvElB,QAAQ,CAACgB,GAAG,CAAC;QACf,CAAC,QAAS;YACRlB,UAAU,CAAC,KAAK,CAAC;QACnB;IACF;IAEA,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,qCAAqC,CAAC;;0BACnD,6LAAC,GAAG;gBAAC,SAAS,EAAC,8BAA8B,CAAC;;kCAC5C,6LAAC,GAAG;wBAAC,SAAS,EAAC,kHAAkH,CAAC;gDAChI,6LAAC,IAAI;4BAAC,SAAS,EAAC,mBAAmB;sCAAC,EAAE,EAAE,IAAI,CAAC;;;;;;;;;;;kCAE/C,6LAAC,GAAG,CAAC;;0CACH,6LAAC,EAAE;gCAAC,SAAS,EAAC,uBAAuB;0CAAC,OAAO,EAAE,EAAE,CAAC;;;;;;0CAClD,6LAAC,CAAC;gCAAC,SAAS,EAAC,mCAAmC;0CAAC,uBAAuB,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;0BAGhF,6LAAC,IAAI;gBAAC,QAAQ,CAAC,CAACG,QAAQ,CAAC;gBAAC,SAAS,EAAC,WAAW,CAAC;;oBAC7Cb,IAAI,KAAK,QAAQ,kBAChB,6LAAC,KAAK;wBAAC,SAAS,EAAC,OAAO;wBAAC,WAAW,EAAC,WAAW;wBAAC,KAAK,CAAC,CAACO,IAAI,CAAC;wBAAC,QAAQ,CAAC,EAAEO,GAAC,GAAKN,OAAO,CAACM,GAAC,CAACiB,MAAM,CAACC,KAAK,CAAC,CAAC,GACxG,CAAC;;;;;;kCACF,6LAAC,KAAK;wBAAC,SAAS,EAAC,OAAO;wBAAC,WAAW,EAAC,OAAO;wBAAC,IAAI,EAAC,OAAO;wBAAC,KAAK,CAAC,CAAC7B,KAAK,CAAC;wBAAC,QAAQ,CAAC,EAAEW,GAAC,GAAKV,QAAQ,CAACU,GAAC,CAACiB,MAAM,CAACC,KAAK,CAAC,CAAC,GAAG;;;;;;kCACrH,6LAAC,KAAK;wBAAC,SAAS,EAAC,OAAO;wBAAC,WAAW,EAAC,UAAU;wBAAC,IAAI,EAAC,UAAU;wBAAC,KAAK,CAAC,CAAC3B,QAAQ,CAAC;wBAAC,QAAQ,CAAC,EAAES,GAAC,GAAKR,WAAW,CAACQ,GAAC,CAACiB,MAAM,CAACC,KAAK,CAAC,CAAC,GAAG;;;;;;oBAChIrB,KAAK,kBAAI,6LAAC,CAAC;wBAAC,SAAS,EAAC,sBAAsB,CAAC;kCAACA,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;;;;;;kCAC1D,6LAAC,MAAM;wBAAC,SAAS,EAAC,YAAY;wBAAC,QAAQ,CAAC,CAACF,OAAO,CAAC,CAAC;kCAACA,OAAO,GAAG,gBAAgB,GAAGT,IAAI,KAAK,QAAQ,GAAG,gBAAgB,GAAG,SAAS,CAAC,EAAE,MAAM,CAAC;;;;;;;;;;;;0BAE5I,6LAAC,GAAG;gBAAC,SAAS,EAAC,oDAAoD,CAAC;0BACjEA,IAAI,KAAK,QAAQ,iBAChB,6LAAC,MAAM;oBAAC,SAAS,EAAC,WAAW;oBAAC,OAAO,CAAC,CAAC,IAAMC,OAAO,CAAC,QAAQ,CAAC,CAAC;8BAAC,wBAAwB,EAAE,MAAM,CAAC;;;;;yCAEjG,6LAAC,MAAM;oBAAC,SAAS,EAAC,WAAW;oBAAC,OAAO,CAAC,CAAC,IAAMA,OAAO,CAAC,QAAQ,CAAC,CAAC;8BAAC,2BAA2B,EAAE,MAAM,CACpG,CAAC;;;;;;;;;;;;;;;;;AAIV;;KAhEwBF,QAAQA,CAAA,EAAG","ignoreList":[],"debugId":null}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["C:/Users/JD/business-chat/src/app/auth/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { auth, db } from \"@/lib/firebase\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport AuthForm from \"@/components/AuthForm\";\r\nimport { useEffect } from \"react\";\r\nimport { doc, serverTimestamp, setDoc } from \"firebase/firestore\";\r\n\r\nexport default function AuthPage() {\r\n  const [user, loading] = useAuthState(auth);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (!loading && user) {\r\n      // Ensure user doc exists and lastSeen is set\r\n      setDoc(\r\n        doc(db, \"users\", user.uid),\r\n        {\r\n          uid: user.uid,\r\n          email: user.email,\r\n          displayName: user.displayName || user.email?.split(\"@\")[0],\r\n          photoURL: user.photoURL || null,\r\n          lastSeen: Date.now(),\r\n          updatedAt: serverTimestamp(),\r\n        },\r\n        { merge: true }\r\n      );\r\n      router.replace(\"/chat\");\r\n    }\r\n  }, [user, loading, router]);\r\n\r\n  return (\r\n    <div className=\"min-h-dvh grid place-items-center p-6\">\r\n      <AuthForm />\r\n    </div>\r\n  );\r\n}"],"names":["c","_c","useAuthState","auth","db","useRouter","AuthForm","useEffect","doc","serverTimestamp","setDoc","AuthPage","$","$i","Symbol","for","user","loading","router","t0","t1","AuthPage[useEffect()]","uid","email","displayName","split","photoURL","lastSeen","Date","now","updatedAt","merge","replace","t2"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AACb,SAASC,YAAY,QAAQ,2BAA2B;AACxD,SAASC,IAAI,EAAEC,EAAE,QAAQ,gBAAgB;AACzC,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,SAASC,SAAS,QAAQ,OAAO;;AACjC,SAASC,GAAG,EAAEC,eAAe,EAAEC,MAAM,QAAQ,oBAAoB;;;AANjE,YAAY;;;;;;;;AAQG;;IAAA,MAAAE,CAAA,OAAAX,gLAAA,EAAA;IAAA,IAAAW,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACb,MAAA,CAAAI,IAAA,EAAAC,OAAA,CAAA,sMAAqCd,iIAAI,CAAC;IAC1C,MAAAe,MAAA;IAA2B,IAAAC,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAR,CAAA,CAAA,EAAA,KAAAK,OAAA,IAAAL,CAAA,CAAA,EAAA,KAAAM,MAAA,IAAAN,CAAA,CAAA,EAAA,KAAAI,IAAA,EAAA;QAEjBG,EAAA,GAAA,CAAA;YAAA,yBAAAE,CAAA;gBACR,IAAI,CAACJ,OAAe,IAAhBD,IAAgB,EAAA;oBAElBN,gLAAM,MACJF,yKAAG,EAACJ,+HAAE,EAAE,OAAO,EAAEY,IAAI,CAAAM,GAAI,CAAC,EAC1B;wBAAAA,GAAA,EACON,IAAI,CAAAM,GAAI;wBAAAC,KAAA,EACNP,IAAI,CAAAO,KAAM;wBAAAC,WAAA,EACJR,IAAI,CAAAQ,WAAyC,IAAzBR,IAAI,CAAAO,KAAa,EAAAE,KAAK,CAAJ,GAAM,CAAC,CAAA,EAAA;wBAAAC,QAAA,EAChDV,IAAI,CAAAU,QAAiB,IAArB,IAAqB;wBAAAC,QAAA,EACrBC,IAAI,CAAAC,GAAI,CAAC,CAAC;wBAAAC,SAAA,MACTrB,qLAAe,CAAC;oBAC7B,CAAC,EACD;wBAAAsB,KAAA,EAAS;oBAAK,CAChB,CAAC;oBACDb,MAAM,CAAAc,OAAQ,CAAC,OAAO,CAAC;gBAAA;YACxB;SAAA,CAAA,CAAA,wBACF;QAAEZ,EAAA,GAAA;YAACJ,IAAI;YAAEC,OAAO;YAAEC,MAAM;SAAC;QAAAN,CAAA,CAAA,EAAA,GAAAK,OAAA;QAAAL,CAAA,CAAA,EAAA,GAAAM,MAAA;QAAAN,CAAA,CAAA,EAAA,GAAAI,IAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAQ,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAP,CAAA,CAAA,EAAA;QAAAQ,EAAA,GAAAR,CAAA,CAAA,EAAA;IAAA;QAjB1BL,0KAAS,EAACY,EAiBT,EAAEC,EAAuB,CAAC;IAAA,IAAAa,EAAA;IAAA,IAAArB,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAGzBkB,EAAA,iBAAA,6LAAA,GAEM;YAFS,SAAuC,EAAvC,uCAAuC;oCACpD,6LAAC,4IAAQ,GACX,EAFA,GAEM;;;;;;;;;;QAAArB,CAAA,CAAA,EAAA,GAAAqB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAArB,CAAA,CAAA,EAAA;IAAA;IAAA,OAFNqB,EAEM;AAAA;;;QAzBgB/B,6LAAY;QACrBG,kJAAS,CAAC,CAAC;;;KAFbM,SAAA","ignoreList":[],"debugId":null}}]
}